@import "tailwindcss";
@plugin "@tailwindcss/typography";

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }

  :root {
    /* Default (Pure) */
    --bg-main: #f9fafb;
    --text-main: #111827;
    --bg-card: #ffffff;
    --border-main: #e5e7eb;
    --bg-header: rgba(255, 255, 255, 0.8);
    --bg-hover: #f3f4f6;
    --text-muted: #6b7280;
  }

  /* Force light theme defaults if data-theme is missing or empty */
  html:not([data-theme]),
  html[data-theme='paper'] {
    --bg-main: #fcfbf9;
    --text-main: #44403c;
    --bg-card: #fffefc;
    --border-main: #d6d3d1;
    --bg-header: rgba(252, 251, 249, 0.85);
    --bg-hover: #f5f2eb;
    --text-muted: #78716c;
  }

  html[data-theme='dark'] {
    --bg-main: #111827;
    --text-main: #f9fafb;
    --bg-card: #1f2937;
    --border-main: #374151;
    --bg-header: rgba(17, 24, 39, 0.85);
    --bg-hover: #374151;
    --text-muted: #9ca3af;
  }
}

/* Custom Typography Overrides */
.prose code {
  @apply bg-[var(--bg-hover)] text-pink-600 rounded-md px-1 py-0.5 text-sm font-medium before:content-none after:content-none;
}

.prose pre code {
  @apply bg-transparent text-inherit p-0 text-base;
}

@theme {
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
}

/* Force Prose Colors to match Theme Variables */
/* This ensures 'Space' and 'Dark' themes use the bright white text variables instead of default gray */
.prose {
  color: var(--text-main);
}

.prose strong,
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: var(--text-main);
}

.prose a:not(.rounded-full) {
  color: var(--text-main);
  text-decoration-color: var(--text-muted);
}

.prose blockquote {
  color: var(--text-muted);
  border-left-color: var(--border-main);
}

.prose li::marker {
  color: var(--text-muted);
}

html,
body {
  height: 100%;
}

body {
  font-family: var(--font-sans);
  background-color: var(--bg-main);
  color: var(--text-main);
  transition: background-color 0.3s ease, color 0.3s ease;
}

.view-toggle-active {
  background-color: var(--bg-card);
  color: var(--text-main);
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}